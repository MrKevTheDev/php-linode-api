<?php
?>

namespace HnhDigital\LinodeApi<?= $namespace ?>;

/*
 * This file is part of the PHP Linode API.
 *
 * (c) H&H|Digital <hello@hnh.digital>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */

use HnhDigital\LinodeApi\Api;

/**
 * This is the <?= $class ?> class.
 *
 * This file is automatically generated.
 *
 * @link <?= array_get($spec, 'url') ?>

 * @author Rocco Howard <rocco@hnh.digital>
 */
class <?= $class ?> extends Api
{
    /**
     * Endpoint.
     *
     * @var string
     */
    protected $endpoint = '<?= array_get($spec, 'endpoint') ?>';

    /**
     * Endpoint placeholders.
     *
     * @var array
     */
    protected $endpoint_placeholders = [];

<?php
foreach (array_get($spec, 'parameters', []) as $name => $settings) {
?>
    /**
     * <?= $name ?>.
     *
     * @var <?= array_get($settings, 'type') ?>

     */
    protected $<?= $name ?>;
<?php
}
?>

    /**
     * Constructor.
     *
     * @return void
     */
    public function __construct(<?= generate_constructor_parameters($spec) ?>)
    {
<?php
foreach (array_get($spec, 'parameters', []) as $name => $settings) {
?>
        $this-><?= $name ?> = $<?= $name ?>;
<?php
}
?>
        $this->endpoint_placeholders = [<?= generate_constructor_parameters($spec, true) ?>];
    }

<?php
foreach (array_get($spec, 'get', []) as $name => $settings) {
?>
    /**
     * <?= array_get($settings, 'description', '@todo Add description') ?>

     *
     * @link <?= array_get($settings, 'url', array_get($spec, 'url')) ?>

     *
     * @return array
     */
    public function <?= $name ?>(<?= generate_parameter_list($settings) ?>)
    {
<?php
if (array_has($settings, 'endpoint')) {
?>
        return $this->call('get', '<?= array_get($settings, 'endpoint', '') ?>');
<?php
} elseif (array_has($settings, 'model')) {
?>
        return new <?= array_get($settings, 'model') ?>(<?= generate_new_class_parameter_list($settings) ?>);
<?php
}
?>
    }

<?php
}
?>
<?php
foreach (array_get($spec, 'put', []) as $name => $settings) {
?>
    /**
     * <?= array_get($settings, 'description', '@todo Add description') ?>

     *
<?= generate_parameter_comments($settings) ?>
     * 
     * @link <?= array_get($settings, 'url', array_get($spec, 'url')) ?>

     *
     * @return void
     */
    public function <?= $name ?>($optional)
    {
        return $this->call('put', "<?= array_get($settings, 'endpoint', '') ?>", $optional);
    }

<?php
}
?>
<?php
foreach (array_get($spec, 'post', []) as $name => $settings) {
?>
    /**
     * <?= array_get($settings, 'description', '@todo Add description') ?>

     *
<?= generate_parameter_comments($settings) ?>
     * @link <?= array_get($settings, 'url', array_get($spec, 'url')) ?>

     * 
     * @return bool
     */
    public function <?= $name ?>(<?= generate_parameter_list($settings) ?>)
    {
        return $this->call('post', "<?= array_get($settings, 'endpoint', '') ?>", <?= generate_function_payload($settings) ?>);
    }

<?php
}
?>
<?php
foreach (array_get($spec, 'delete', []) as $name => $settings) {
?>
    /**
     * <?= array_get($settings, 'description', '@todo Add description') ?>

     *
<?= generate_parameter_comments($settings) ?>
     * @link <?= array_get($settings, 'url', array_get($spec, 'url')) ?>

     *
     * @return void
     */
    public function <?= $name ?>()
    {
        return $this->call('delete', "<?= array_get($settings, 'endpoint', '') ?>");
    }

<?php
}
?>
}
